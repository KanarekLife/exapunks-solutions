GRAB 300

NOTE IF REC = -1 -> HALT
MARK REC_LOOP
COPY M X
TEST X = -1
TJMP END

MARK FILE_SEARCH_LOOP
TEST EOF
TJMP NOT_FOUND
TEST F = X
TJMP FOUND
SEEK 1
JUMP FILE_SEARCH_LOOP

NOTE IF NOT FOUND -> -1
MARK NOT_FOUND
COPY -1 M
JUMP RESET

NOTE IF FOUND -> RETURN
MARK FOUND
COPY F M

MARK RESET
SEEK -999
JUMP REC_LOOP

MARK END